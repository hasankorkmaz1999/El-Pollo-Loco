<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: js/script.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: js/script.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>document.addEventListener("DOMContentLoaded", () => {
  /**
   * Button to start the game.
   * @type {HTMLElement}
   */
  const startButton = document.getElementById("start-button");

  /**
   * Start screen element, shown initially.
   * @type {HTMLElement}
   */
  const startscreen = document.getElementById("startscreen");

  /**
   * Canvas element for game rendering.
   * @type {HTMLCanvasElement}
   */
  const canvas = document.getElementById("canvas");

  /**
   * HUD element that shows game information.
   * @type {HTMLElement}
   */
  const hud = document.getElementById("hud");

  /**
   * Mute button element to toggle sound.
   * @type {HTMLElement}
   */
  const mutebutton = document.getElementById("mutebutton");

  /**
   * Checks if the device is a touch device.
   * @returns {boolean} True if the device has touch support, false otherwise.
   */
  function isTouchDevice() {
    return "ontouchstart" in window || navigator.maxTouchPoints > 0;
  }

  /**
   * Boolean indicating whether the game has started.
   * @type {boolean}
   */
  let gameStarted = false;

  startButton.addEventListener("click", () => {
    hideStartScreen();
    startGame();
  });

  mutebutton.addEventListener("click", (event) => {
    event.stopPropagation();
    toggleMute();
    mutebutton.blur();
  });

  mutebutton.addEventListener("keydown", (event) => {
    if (event.code === "Space" || event.code === "Enter") {
      event.preventDefault();
    }
  });

  /**
   * Hides the start screen and shows the game canvas.
   */
  function hideStartScreen() {
    startscreen.style.display = "none";
    canvas.style.display = "block";
  }

  /**
   * Initializes and starts the game if it has not already started.
   * Restarts the game if already started.
   */
  function startGame() {
    if (!gameStarted) {
      init();
      gameStarted = true;
      mutebutton.style.display = "block";

      if (window.innerHeight > window.innerWidth) {
        hud.style.display = "none";
      } else {
        if (isTouchDevice()) {
          hud.style.display = "block";
        } else {
          hud.style.display = "none";
        }
      }
    } else {
      startNewGame();
      if (isTouchDevice()) {
        hud.style.display = "block";
      }
    }
  }
});

/**
 * Displays the "How to Play" modal.
 */
function howToPlay() {
  let modal = document.getElementById("howtoplay-modal");
  modal.style.display = "block";
}

/**
 * Closes the "How to Play" modal.
 */
function closeHowToPlay() {
  let modal = document.getElementById("howtoplay-modal");
  modal.style.display = "none";
}

/**
 * Displays the imprint (legal information) modal.
 */
function showImprint() {
  let modal = document.getElementById("imprint-modal");
  modal.style.display = "block";
}

/**
 * Closes the imprint modal.
 */
function closeImprint() {
  let modal = document.getElementById("imprint-modal");
  modal.style.display = "none";
}

/**
 * Closes the modals if clicked outside the modal content area.
 * @param {MouseEvent} event - The mouse click event.
 */
window.onclick = function (event) {
  let howToPlayModal = document.getElementById("howtoplay-modal");
  let imprintModal = document.getElementById("imprint-modal");

  if (event.target == howToPlayModal) {
    howToPlayModal.style.display = "none";
  } else if (event.target == imprintModal) {
    imprintModal.style.display = "none";
  }
};

/**
 * Checks the screen orientation and adjusts the game container and rotate message display accordingly.
 */
function checkScreenOrientation() {
  const rotateMessage = document.getElementById("rotate-message");
  const gamecontainer = document.getElementById("gamecontainer");

  if (window.innerHeight > window.innerWidth) {
    rotateMessage.style.display = "flex";
    gamecontainer.style.display = "none";
  } else {
    gameStarted = true;
    rotateMessage.style.display = "none";
    gamecontainer.style.display = "flex";
  }
}

checkScreenOrientation();

window.addEventListener("resize", checkScreenOrientation);
window.addEventListener("orientationchange", checkScreenOrientation);
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="BackgroundObject.html">BackgroundObject</a></li><li><a href="Bottles.html">Bottles</a></li><li><a href="BottlesBar.html">BottlesBar</a></li><li><a href="Character.html">Character</a></li><li><a href="Chicken.html">Chicken</a></li><li><a href="Cloud.html">Cloud</a></li><li><a href="CoinBar.html">CoinBar</a></li><li><a href="Coins.html">Coins</a></li><li><a href="DrawableObject.html">DrawableObject</a></li><li><a href="Endboss.html">Endboss</a></li><li><a href="EndbossStatusbar.html">EndbossStatusbar</a></li><li><a href="HealthBar.html">HealthBar</a></li><li><a href="Keyboard.html">Keyboard</a></li><li><a href="Level.html">Level</a></li><li><a href="MovableObject.html">MovableObject</a></li><li><a href="StatusBar.html">StatusBar</a></li><li><a href="ThrowableObject.html">ThrowableObject</a></li><li><a href="World.html">World</a></li><li><a href="smallChicken.html">smallChicken</a></li></ul><h3>Global</h3><ul><li><a href="global.html#canvas">canvas</a></li><li><a href="global.html#checkScreenOrientation">checkScreenOrientation</a></li><li><a href="global.html#closeHowToPlay">closeHowToPlay</a></li><li><a href="global.html#closeImprint">closeImprint</a></li><li><a href="global.html#createLevel">createLevel</a></li><li><a href="global.html#howToPlay">howToPlay</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#keyboard">keyboard</a></li><li><a href="global.html#level1">level1</a></li><li><a href="global.html#quitGame">quitGame</a></li><li><a href="global.html#showImprint">showImprint</a></li><li><a href="global.html#startNewGame">startNewGame</a></li><li><a href="global.html#toggleMute">toggleMute</a></li><li><a href="global.html#world">world</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Sun Oct 27 2024 12:09:42 GMT+0100 (Mitteleurop√§ische Normalzeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
